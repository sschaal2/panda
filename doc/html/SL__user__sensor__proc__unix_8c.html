<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PandaLibrary: /home/clmc/prog/panda/src/SL_user_sensor_proc_unix.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PandaLibrary
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">SL_user_sensor_proc_unix.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;SL_system_headers.h&quot;</code><br />
<code>#include &quot;utility.h&quot;</code><br />
<code>#include &quot;SL.h&quot;</code><br />
<code>#include &quot;SL_common.h&quot;</code><br />
<code>#include &quot;SL_user.h&quot;</code><br />
<code>#include &quot;SL_sensor_proc.h&quot;</code><br />
<code>#include &quot;SL_shared_memory.h&quot;</code><br />
<code>#include &quot;SL_motor_servo.h&quot;</code><br />
<code>#include &quot;SL_dynamics.h&quot;</code><br />
</div>
<p><a href="SL__user__sensor__proc__unix_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a692d0a05c4be870c586ad0a6db3cc0ab"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SL__user__sensor__proc__unix_8c.html#a692d0a05c4be870c586ad0a6db3cc0ab">TIME_OUT_NS</a>&#160;&#160;&#160;1000000000</td></tr>
<tr class="separator:a692d0a05c4be870c586ad0a6db3cc0ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a21c6fe91dc4087b48c5b34f9cdcac742"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SL__user__sensor__proc__unix_8c.html#a21c6fe91dc4087b48c5b34f9cdcac742">receive_sim_state</a> (void)</td></tr>
<tr class="separator:a21c6fe91dc4087b48c5b34f9cdcac742"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5172103b4261a0d4e95673c22ea59c7c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SL__user__sensor__proc__unix_8c.html#a5172103b4261a0d4e95673c22ea59c7c">receive_misc_sensors</a> (void)</td></tr>
<tr class="separator:a5172103b4261a0d4e95673c22ea59c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed40be1061e3dedd7a719b397139fdb9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SL__user__sensor__proc__unix_8c.html#aed40be1061e3dedd7a719b397139fdb9">send_des_command</a> (void)</td></tr>
<tr class="separator:aed40be1061e3dedd7a719b397139fdb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a926c062c0549d68f81d65469201d4568"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SL__user__sensor__proc__unix_8c.html#a926c062c0549d68f81d65469201d4568">init_user_sensor_processing</a> (void)</td></tr>
<tr class="separator:a926c062c0549d68f81d65469201d4568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba0f09da8c9d37284b2b6c396d350e04"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SL__user__sensor__proc__unix_8c.html#aba0f09da8c9d37284b2b6c396d350e04">read_user_sensors</a> (SL_Jstate *raw, double *misc_raw)</td></tr>
<tr class="separator:aba0f09da8c9d37284b2b6c396d350e04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2d73c433314382a2a547f148152ad0f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SL__user__sensor__proc__unix_8c.html#ad2d73c433314382a2a547f148152ad0f">send_user_commands</a> (SL_Jstate *command)</td></tr>
<tr class="separator:ad2d73c433314382a2a547f148152ad0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a069663ff4f5abbbbd8e1d1da9e2497"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SL__user__sensor__proc__unix_8c.html#a7a069663ff4f5abbbbd8e1d1da9e2497">user_controller</a> (double *u, double *ufb, double *uff)</td></tr>
<tr class="separator:a7a069663ff4f5abbbbd8e1d1da9e2497"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4dd99dfdd76e602302d4511b92e0daa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SL__user__sensor__proc__unix_8c.html#ae4dd99dfdd76e602302d4511b92e0daa">userCheckForMessage</a> (char *name, int k)</td></tr>
<tr class="separator:ae4dd99dfdd76e602302d4511b92e0daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af23ec4c2022e843a817fb76017d88d7d"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SL__user__sensor__proc__unix_8c.html#af23ec4c2022e843a817fb76017d88d7d">uff_complete</a> [N_DOFS+1]</td></tr>
<tr class="separator:af23ec4c2022e843a817fb76017d88d7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a766e45c0d7544d469a93701a545a9458"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SL__user__sensor__proc__unix_8c.html#a766e45c0d7544d469a93701a545a9458">motor_servo_errors</a></td></tr>
<tr class="separator:a766e45c0d7544d469a93701a545a9458"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h1>============================================================================= </h1>
<dl class="section author"><dt>Author</dt><dd>Stefan Schaal </dd></dl>
<dl class="section date"><dt>Date</dt><dd>July 2010 <hr/>
 </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd></dd></dl>
<p>performs reading of sensors, translation to units, and sending out motor commands. This verion of the functions is just a simulation interface </p><hr/>

<p>Definition in file <a class="el" href="SL__user__sensor__proc__unix_8c_source.html">SL_user_sensor_proc_unix.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a692d0a05c4be870c586ad0a6db3cc0ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIME_OUT_NS&#160;&#160;&#160;1000000000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SL__user__sensor__proc__unix_8c_source.html#l00031">31</a> of file <a class="el" href="SL__user__sensor__proc__unix_8c_source.html">SL_user_sensor_proc_unix.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a926c062c0549d68f81d65469201d4568"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_user_sensor_processing </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<dl class="section note"><dt>Note</dt><dd>init_user_sensor_processing </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Nov. 2007</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><pre class="fragment">      Initializes all user specific sensory processing
</pre></dd></dl>
<p>Function Parameters: [in]=input,[out]=output </p><pre class="fragment">none</pre> 
<p>Definition at line <a class="el" href="SL__user__sensor__proc__unix_8c_source.html#l00062">62</a> of file <a class="el" href="SL__user__sensor__proc__unix_8c_source.html">SL_user_sensor_proc_unix.c</a>.</p>

</div>
</div>
<a class="anchor" id="aba0f09da8c9d37284b2b6c396d350e04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int read_user_sensors </td>
          <td>(</td>
          <td class="paramtype">SL_Jstate *&#160;</td>
          <td class="paramname"><em>raw</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>misc_raw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<dl class="section note"><dt>Note</dt><dd>read_user_sensors </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Dec 1997</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><pre class="fragment">gets sensor readings from the robot and converts them into standard
units
</pre></dd></dl>
<p>Function Parameters: [in]=input,[out]=output</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">raw</td><td>: the raw sensor readings </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">misc_raw</td><td>the raw miscelleneous sensor readings </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="SL__user__sensor__proc__unix_8c_source.html#l00087">87</a> of file <a class="el" href="SL__user__sensor__proc__unix_8c_source.html">SL_user_sensor_proc_unix.c</a>.</p>

</div>
</div>
<a class="anchor" id="a5172103b4261a0d4e95673c22ea59c7c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int receive_misc_sensors </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<hr/>
<dl class="section note"><dt>Note</dt><dd>receive_misc_sensors </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Nov. 2007 </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><pre class="fragment">    receives the entire misc_sim_sensors from shared memory
</pre></dd></dl>
<p>Function Parameters: [in]=input,[out]=output </p><pre class="fragment">none</pre> 
<p>Definition at line <a class="el" href="SL__user__sensor__proc__unix_8c_source.html#l00216">216</a> of file <a class="el" href="SL__user__sensor__proc__unix_8c_source.html">SL_user_sensor_proc_unix.c</a>.</p>

</div>
</div>
<a class="anchor" id="a21c6fe91dc4087b48c5b34f9cdcac742"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int receive_sim_state </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<hr/>
<dl class="section note"><dt>Note</dt><dd>receive_sim_state </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Nov. 2007</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><pre class="fragment">    recieves the entire joint_sim_state from shared memory
</pre></dd></dl>
<p>Function Parameters: [in]=input,[out]=output </p><pre class="fragment">none</pre> 
<p>Definition at line <a class="el" href="SL__user__sensor__proc__unix_8c_source.html#l00175">175</a> of file <a class="el" href="SL__user__sensor__proc__unix_8c_source.html">SL_user_sensor_proc_unix.c</a>.</p>

</div>
</div>
<a class="anchor" id="aed40be1061e3dedd7a719b397139fdb9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int send_des_command </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<hr/>
<dl class="section note"><dt>Note</dt><dd>send_des_command </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Nov. 2007</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><pre class="fragment">    send the commands from the joint_sim_state shared memory
    structure
</pre></dd></dl>
<p>Function Parameters: [in]=input,[out]=output </p><pre class="fragment">none</pre> 
<p>Definition at line <a class="el" href="SL__user__sensor__proc__unix_8c_source.html#l00257">257</a> of file <a class="el" href="SL__user__sensor__proc__unix_8c_source.html">SL_user_sensor_proc_unix.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad2d73c433314382a2a547f148152ad0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int send_user_commands </td>
          <td>(</td>
          <td class="paramtype">SL_Jstate *&#160;</td>
          <td class="paramname"><em>command</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<dl class="section note"><dt>Note</dt><dd>send_user_commands </dd></dl>
<dl class="section date"><dt>Date</dt><dd>April 1999</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><pre class="fragment">translates the commands into raw and sends them to the robot
</pre></dd></dl>
<p>Function Parameters: [in]=input,[out]=output</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">commands</td><td>: the structure containing the commands </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="SL__user__sensor__proc__unix_8c_source.html#l00138">138</a> of file <a class="el" href="SL__user__sensor__proc__unix_8c_source.html">SL_user_sensor_proc_unix.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7a069663ff4f5abbbbd8e1d1da9e2497"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void user_controller </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>u</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>ufb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>uff</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<dl class="section note"><dt>Note</dt><dd>user_controller </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Feb. 2009</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><pre class="fragment">      allows the user to modify the commands currently computed by 
      the active controller. Note that only u is actually used in
      the final send out of the commands to the robot, and ufb and uff 
      is only kept as feedback to the user for data collection.
</pre></dd></dl>
<p>Function Parameters: [in]=input,[out]=output</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">u</td><td>: the current total command </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ufb</td><td>: the current feedback command </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">uff</td><td>: the current feedforward command </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="SL__user__sensor__proc__unix_8c_source.html#l00306">306</a> of file <a class="el" href="SL__user__sensor__proc__unix_8c_source.html">SL_user_sensor_proc_unix.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae4dd99dfdd76e602302d4511b92e0daa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void userCheckForMessage </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<hr/>
<dl class="section note"><dt>Note</dt><dd>userCheckForMessage </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Feb. 2009</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><pre class="fragment">      this function allows the user to intercept a message send to the
      motor servo and use this information in sensor_user_proc
</pre></dd></dl>
<p>Function Parameters: [in]=input,[out]=output</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>: message identifying name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">k</td><td>: index of message in shared memory </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="SL__user__sensor__proc__unix_8c_source.html#l00364">364</a> of file <a class="el" href="SL__user__sensor__proc__unix_8c_source.html">SL_user_sensor_proc_unix.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a766e45c0d7544d469a93701a545a9458"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int motor_servo_errors</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af23ec4c2022e843a817fb76017d88d7d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double uff_complete[N_DOFS+1]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="SL__user__sensor__proc__unix_8c_source.html#l00034">34</a> of file <a class="el" href="SL__user__sensor__proc__unix_8c_source.html">SL_user_sensor_proc_unix.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Feb 12 2019 15:55:46 for PandaLibrary by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
